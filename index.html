<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Téléchargement PNG non compressé 16MP automatique</title>
</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/upng-js@2.1.0/UPNG.js"></script>
<script>
  window.onload = () => {
    const size = 4096;
    const pixelCount = size * size;
    const buf = new Uint8Array(pixelCount * 4);

    for(let i=0; i < buf.length; i++) {
      buf[i] = Math.floor(Math.random() * 256);
    }

    const img = [buf.buffer];
    const pngData = UPNG.encode(img, size, size, 0); // 0 = no compression

    const blob = new Blob([pngData], {type:"image/png"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "png_16mp_non_compress.png";
    a.click();
    URL.revokeObjectURL(url);
  };
</script>

</body>
</html>
